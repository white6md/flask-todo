{% extends "base.html" %}
{% set title = t('auth_setup_2fa_title') %}

{% block content %}
<section class="auth-wrapper">
    <div class="auth-card">
        <h1>{{ t('auth_setup_2fa_title') }}</h1>
        <p class="auth-subtitle">{{ t('auth_setup_2fa_hint') }}</p>
        <div class="qr-wrapper">
            <img src="{{ qr_data }}" alt="Authenticator QR Code">
        </div>
        <form method="post" novalidate>
            {{ form.hidden_tag() }}
            <label class="input-field">
                <span>{{ t('form_totp_code') }}</span>
                {{ form.token(class_='input-control', maxlength='6', placeholder='000000') }}
                {% if form.token.errors %}
                <small class="error">{{ form.token.errors[0] }}</small>
                {% endif %}
            </label>
            {{ form.submit(class_='btn btn-primary full', value=t('auth_setup_2fa_cta')) }}
        </form>
    </div>
</section>
{% endblock %}
